/*Gifted Tech*/

































const _0x2d9903=_0x221d;(function(_0x5ae569,_0xf98f58){const _0x2b8d93=_0x221d,_0x2fcc2e=_0x5ae569();while(!![]){try{const _0x24948c=parseInt(_0x2b8d93(0x18e))/0x1*(parseInt(_0x2b8d93(0x1a6))/0x2)+-parseInt(_0x2b8d93(0x1b6))/0x3+parseInt(_0x2b8d93(0x18c))/0x4*(parseInt(_0x2b8d93(0x197))/0x5)+-parseInt(_0x2b8d93(0x1a9))/0x6*(parseInt(_0x2b8d93(0x1cb))/0x7)+-parseInt(_0x2b8d93(0x1ce))/0x8+-parseInt(_0x2b8d93(0x1cd))/0x9+parseInt(_0x2b8d93(0x1c1))/0xa;if(_0x24948c===_0xf98f58)break;else _0x2fcc2e['push'](_0x2fcc2e['shift']());}catch(_0x5976df){_0x2fcc2e['push'](_0x2fcc2e['shift']());}}}(_0x219e,0xe9b3d));const ffmpeg=require(_0x2d9903(0x19f)),{randomBytes}=require(_0x2d9903(0x1cc)),fs=require('fs'),{getHttpStream,toBuffer}=require(_0x2d9903(0x1d7)),sharp=require(_0x2d9903(0x18a)),{spawn}=require(_0x2d9903(0x1d3)),path=require(_0x2d9903(0x1c4)),{fromBuffer}=require('file-type'),{tmpdir}=require('os'),ff=require(_0x2d9903(0x19f)),webp=require(_0x2d9903(0x18d));async function toGif(_0x58b599){const _0x9999eb=_0x2d9903;try{const _0x2e3428='./'+randomBytes(0x3)[_0x9999eb(0x190)](_0x9999eb(0x194))+_0x9999eb(0x1c0),_0x326e20='./'+randomBytes(0x3)['toString'](_0x9999eb(0x194))+'.gif';fs[_0x9999eb(0x1df)](_0x2e3428,_0x58b599[_0x9999eb(0x190)](_0x9999eb(0x1bd)),_0x9999eb(0x1bd));const _0x22ae29=await new Promise(_0x3b3171=>{const _0x26aa40=_0x9999eb;spawn(_0x26aa40(0x1a4),[_0x2e3428,_0x326e20])['on'](_0x26aa40(0x1de),_0x3f5bc5=>{throw _0x3f5bc5;})['on'](_0x26aa40(0x1d6),()=>_0x3b3171(_0x326e20));});let _0x4297a1=fs['readFileSync'](_0x22ae29);try{fs[_0x9999eb(0x1bf)](_0x2e3428);}catch{}try{fs['unlinkSync'](_0x326e20);}catch{}return _0x4297a1;}catch(_0x3480d5){console[_0x9999eb(0x18b)](_0x3480d5);}}async function toMp4(_0x2fe906){const _0x1c3b2d=_0x2d9903;try{let _0x3efc47='./'+randomBytes(0x3)[_0x1c3b2d(0x190)]('hex')+'.gif';const _0x5dc0d0=fs['existsSync'](_0x2fe906)?_0x2fe906:save(_0x2fe906,_0x3efc47),_0x3ddee3='./'+randomBytes(0x3)['toString']('hex')+_0x1c3b2d(0x1c3),_0x2aa577=await new Promise(_0x4f770a=>{const _0x26c4d2=_0x1c3b2d;ffmpeg(_0x5dc0d0)[_0x26c4d2(0x1d5)](['-pix_fmt\x20yuv420p',_0x26c4d2(0x1a2),_0x26c4d2(0x1c2),_0x26c4d2(0x1b9)])[_0x26c4d2(0x199)](_0x26c4d2(0x1aa))[_0x26c4d2(0x1be)]()['save'](_0x3ddee3)['on']('exit',()=>_0x4f770a(_0x3ddee3));});let _0x13ed66=await fs[_0x1c3b2d(0x1d8)]['readFile'](_0x2aa577);try{fs['unlinkSync'](_0x5dc0d0);}catch{}try{fs[_0x1c3b2d(0x1bf)](_0x3ddee3);}catch{}return _0x13ed66;}catch(_0x5ba91e){console['log'](_0x5ba91e);}}const EightD=async _0x3aaa74=>{const _0x33569a=_0x2d9903,_0xdb350=_0x33569a(0x1a0)+randomBytes(0x3)[_0x33569a(0x190)](_0x33569a(0x194))+_0x33569a(0x1b7);_0x3aaa74=Buffer[_0x33569a(0x1d1)](_0x3aaa74)?save(_0x3aaa74,_0xdb350):_0x3aaa74;const _0x111e79='./assets/'+randomBytes(0x3)[_0x33569a(0x190)]('hex')+_0x33569a(0x1b7),_0xef807f=await new Promise(_0x15b44d=>{const _0x2955b3=_0x33569a;ffmpeg(_0x3aaa74)['audioFilter']([_0x2955b3(0x1ac)])['audioFrequency'](0xac44)[_0x2955b3(0x1da)](0x2)[_0x2955b3(0x1dc)](_0x2955b3(0x1c6))[_0x2955b3(0x1af)](_0x2955b3(0x1d9))['audioQuality'](0x5)[_0x2955b3(0x199)](_0x2955b3(0x1cf))['save'](_0x111e79)['on']('end',()=>_0x15b44d(_0x111e79));});return _0xef807f;};function save(_0x43bf76,_0x396647=_0x2d9903(0x1a3)){const _0x25514b=_0x2d9903;try{return fs[_0x25514b(0x1df)](_0x396647,_0x43bf76[_0x25514b(0x190)](_0x25514b(0x1bd)),_0x25514b(0x1bd)),_0x396647;}catch(_0x163741){console[_0x25514b(0x18b)](_0x163741);}}const resizeImage=(_0x30827b,_0x58d3e,_0x3a26c1)=>{const _0x81f37d=_0x2d9903;if(!Buffer[_0x81f37d(0x1d1)](_0x30827b))throw'Input\x20is\x20not\x20a\x20Buffer';return new Promise(async _0x3bbb29=>{const _0x26a712=_0x81f37d;sharp(_0x30827b)['resize'](_0x58d3e,_0x3a26c1,{'fit':_0x26a712(0x1a5)})[_0x26a712(0x1bc)]()[_0x26a712(0x1c7)](_0x3bbb29);});},_parseInput=async(_0x167086,_0x31bcf4=![],_0x3b6102=_0x2d9903(0x1c4))=>{const _0x25d0c4=_0x2d9903,_0x4e2da2=await toBuffer(await getHttpStream(_0x167086)),_0x167a83='./assets/file_'+randomBytes(0x3)[_0x25d0c4(0x190)](_0x25d0c4(0x194))+'.'+(_0x31bcf4?_0x31bcf4:(await fromBuffer(_0x4e2da2))[_0x25d0c4(0x193)]),_0x1cd22b=Buffer['isBuffer'](_0x167086)?save(_0x167086,_0x167a83):fs['existsSync'](_0x167086)?_0x167086:_0x167086;if(_0x3b6102==_0x25d0c4(0x1c4))return _0x1cd22b;else{if(_0x3b6102==_0x25d0c4(0x191)){const _0x467757=await fs[_0x25d0c4(0x1d8)][_0x25d0c4(0x1ca)](_0x1cd22b);try{await fs[_0x25d0c4(0x1d8)][_0x25d0c4(0x1d0)](_0x1cd22b);}catch(_0x495ad4){}return _0x467757;}}};function _0x219e(){const _0x53bc00=['sharp','log','4XvMLVY','node-webpmux','1XIgdtm','length','toString','buffer','from','ext','hex','Asta-Md','readUIntLE','2850205gmQhBa','load','toFormat','exports','stringify','-preset','packname','-vcodec','fluent-ffmpeg','./assets/','utf-8','-c:v\x20libx264','./assets/saveFile.jpg','convert','contain','1012210pSNfgJ','00:00:05','concat','6txvixq','mp4','save','apulsator=hz=0.125','readFileSync','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','audioCodec','00:00:00','Image','join','-loop','author','Asta_Md','119640rhzWlD','.mp3','-vsync','-filter:v\x20crop=\x27floor(in_w/2)*2:floor(in_h/2)*2\x27','default','-vf','toBuffer','binary','noAudio','unlinkSync','.webp','34091320dIBrUv','-movflags\x20+faststart','.mp4','path','.jpg','128k','then','writeUIntLE','end','readFile','6529677kIqCjR','crypto','15934572CAnFpx','6278672OvYCme','mp3','unlink','isBuffer','categories','child_process','webp','outputOptions','exit','@whiskeysockets/baileys','promises','libmp3lame','audioChannels','libwebp','audioBitrate','exif','error','writeFileSync','-an'];_0x219e=function(){return _0x53bc00;};return _0x219e();}async function imageToWebp(_0x15fd80){const _0x1debc4=_0x2d9903,_0x3c320c=path[_0x1debc4(0x1b2)](tmpdir(),randomBytes(0x6)[_0x1debc4(0x196)](0x0,0x6)[_0x1debc4(0x190)](0x24)+_0x1debc4(0x1c0)),_0xc7abb8=path[_0x1debc4(0x1b2)](tmpdir(),randomBytes(0x6)[_0x1debc4(0x196)](0x0,0x6)['toString'](0x24)+_0x1debc4(0x1c5));fs[_0x1debc4(0x1df)](_0xc7abb8,_0x15fd80),await new Promise((_0x5779d5,_0x4073a6)=>{const _0x126bde=_0x1debc4;ff(_0xc7abb8)['on'](_0x126bde(0x1de),_0x4073a6)['on']('end',()=>_0x5779d5(!![]))['addOutputOptions']([_0x126bde(0x19e),_0x126bde(0x1db),_0x126bde(0x1bb),_0x126bde(0x1ae)])[_0x126bde(0x199)](_0x126bde(0x1d4))[_0x126bde(0x1ab)](_0x3c320c);});const _0x557b6a=fs[_0x1debc4(0x1ad)](_0x3c320c);return fs['unlinkSync'](_0x3c320c),fs[_0x1debc4(0x1bf)](_0xc7abb8),_0x557b6a;}async function videoToWebp(_0x445df9){const _0x1d091c=_0x2d9903,_0x53082b=path[_0x1d091c(0x1b2)](tmpdir(),randomBytes(0x6)[_0x1d091c(0x196)](0x0,0x6)['toString'](0x24)+_0x1d091c(0x1c0)),_0xa3528=path[_0x1d091c(0x1b2)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)['toString'](0x24)+_0x1d091c(0x1c3));fs[_0x1d091c(0x1df)](_0xa3528,_0x445df9),await new Promise((_0x326086,_0x37824f)=>{const _0x3e0719=_0x1d091c;ff(_0xa3528)['on'](_0x3e0719(0x1de),_0x37824f)['on'](_0x3e0719(0x1c9),()=>_0x326086(!![]))['addOutputOptions']([_0x3e0719(0x19e),_0x3e0719(0x1db),_0x3e0719(0x1bb),_0x3e0719(0x1ae),_0x3e0719(0x1b3),'0','-ss',_0x3e0719(0x1b0),'-t',_0x3e0719(0x1a7),_0x3e0719(0x19c),_0x3e0719(0x1ba),_0x3e0719(0x189),_0x3e0719(0x1b8),'0'])[_0x3e0719(0x199)](_0x3e0719(0x1d4))[_0x3e0719(0x1ab)](_0x53082b);});const _0xcb5ed6=fs[_0x1d091c(0x1ad)](_0x53082b);return fs[_0x1d091c(0x1bf)](_0x53082b),fs['unlinkSync'](_0xa3528),_0xcb5ed6;}function _0x221d(_0x126d3a,_0x2a230d){const _0x219eb4=_0x219e();return _0x221d=function(_0x221dd0,_0x25797f){_0x221dd0=_0x221dd0-0x189;let _0x40a096=_0x219eb4[_0x221dd0];return _0x40a096;},_0x221d(_0x126d3a,_0x2a230d);}async function writeExifImg(_0x5b33a2,_0x253371){const _0x1118bd=_0x2d9903;let _0x221067=await imageToWebp(_0x5b33a2);const _0x597cdc=path[_0x1118bd(0x1b2)](tmpdir(),randomBytes(0x6)[_0x1118bd(0x196)](0x0,0x6)[_0x1118bd(0x190)](0x24)+_0x1118bd(0x1c0)),_0x3d7363=path['join'](tmpdir(),randomBytes(0x6)[_0x1118bd(0x196)](0x0,0x6)[_0x1118bd(0x190)](0x24)+_0x1118bd(0x1c0));fs[_0x1118bd(0x1df)](_0x597cdc,_0x221067);if(_0x253371['packname']||_0x253371[_0x1118bd(0x1b4)]){const _0x3ebb2c=new webp[(_0x1118bd(0x1b1))](),_0x52231b={'sticker-pack-id':'Asta-Md','sticker-pack-name':_0x253371[_0x1118bd(0x19d)],'sticker-pack-publisher':_0x253371[_0x1118bd(0x1b4)],'emojis':_0x253371[_0x1118bd(0x1d2)]?_0x253371['categories']:['']},_0x599907=Buffer[_0x1118bd(0x192)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xf58fc5=Buffer[_0x1118bd(0x192)](JSON[_0x1118bd(0x19b)](_0x52231b),_0x1118bd(0x1a1)),_0x24ebbb=Buffer['concat']([_0x599907,_0xf58fc5]);return _0x24ebbb[_0x1118bd(0x1c8)](_0xf58fc5[_0x1118bd(0x18f)],0xe,0x4),await _0x3ebb2c['load'](_0x597cdc),fs['unlinkSync'](_0x597cdc),_0x3ebb2c[_0x1118bd(0x1dd)]=_0x24ebbb,await _0x3ebb2c[_0x1118bd(0x1ab)](_0x3d7363),_0x3d7363;}}async function writeExifVid(_0x2e8e44,_0x4bd2fb){const _0x561f24=_0x2d9903;let _0xc66a2f=await videoToWebp(_0x2e8e44);const _0x376249=path[_0x561f24(0x1b2)](tmpdir(),randomBytes(0x6)['readUIntLE'](0x0,0x6)[_0x561f24(0x190)](0x24)+_0x561f24(0x1c0)),_0x30eae8=path[_0x561f24(0x1b2)](tmpdir(),randomBytes(0x6)[_0x561f24(0x196)](0x0,0x6)[_0x561f24(0x190)](0x24)+_0x561f24(0x1c0));fs[_0x561f24(0x1df)](_0x376249,_0xc66a2f);let _0x52125d,_0x539a8e;try{_0x52125d=_0x4bd2fb[_0x561f24(0x19d)];}catch(_0x328835){_0x52125d=_0x561f24(0x195);}try{_0x539a8e=_0x4bd2fb['author'];}catch(_0x318d03){_0x539a8e='';}const _0x191430=new webp['Image'](),_0xb254a0={'sticker-pack-id':'Asta-Md','sticker-pack-name':_0x52125d,'sticker-pack-publisher':_0x539a8e,'emojis':_0x4bd2fb[_0x561f24(0x1d2)]?_0x4bd2fb[_0x561f24(0x1d2)]:['']},_0x32ebe1=Buffer[_0x561f24(0x192)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x2dff18=Buffer[_0x561f24(0x192)](JSON[_0x561f24(0x19b)](_0xb254a0),_0x561f24(0x1a1)),_0x2dcd35=Buffer[_0x561f24(0x1a8)]([_0x32ebe1,_0x2dff18]);return _0x2dcd35[_0x561f24(0x1c8)](_0x2dff18[_0x561f24(0x18f)],0xe,0x4),await _0x191430['load'](_0x376249),fs[_0x561f24(0x1bf)](_0x376249),_0x191430[_0x561f24(0x1dd)]=_0x2dcd35,await _0x191430['save'](_0x30eae8),_0x30eae8;}async function writeExifWebp(_0x39604f,_0x657827){const _0x57e069=_0x2d9903,_0x1b312d=path[_0x57e069(0x1b2)](tmpdir(),randomBytes(0x6)[_0x57e069(0x196)](0x0,0x6)[_0x57e069(0x190)](0x24)+_0x57e069(0x1c0)),_0x55bfb7=path['join'](tmpdir(),randomBytes(0x6)[_0x57e069(0x196)](0x0,0x6)[_0x57e069(0x190)](0x24)+_0x57e069(0x1c0));fs['writeFileSync'](_0x1b312d,_0x39604f);if(_0x657827[_0x57e069(0x19d)]||_0x657827['author']){const _0x89fd17=new webp['Image'](),_0x4323d3={'sticker-pack-id':_0x57e069(0x1b5),'sticker-pack-name':_0x657827[_0x57e069(0x19d)],'sticker-pack-publisher':_0x657827['author'],'emojis':_0x657827['categories']?_0x657827['categories']:['']},_0x1c3445=await Buffer['from']([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x594881=await Buffer['from'](JSON[_0x57e069(0x19b)](_0x4323d3),'utf-8'),_0x1864e0=await Buffer['concat']([_0x1c3445,_0x594881]);return await _0x1864e0[_0x57e069(0x1c8)](_0x594881['length'],0xe,0x4),await _0x89fd17[_0x57e069(0x198)](_0x1b312d),fs[_0x57e069(0x1bf)](_0x1b312d),_0x89fd17['exif']=_0x1864e0,await _0x89fd17['save'](_0x55bfb7),_0x55bfb7;}}module[_0x2d9903(0x19a)]={'imageToWebp':imageToWebp,'videoToWebp':videoToWebp,'writeExifImg':writeExifImg,'writeExifVid':writeExifVid,'writeExifWebp':writeExifWebp,'toGif':toGif,'toMp4':toMp4,'EightD':EightD,'_parseInput':_parseInput,'resizeImage':resizeImage};
