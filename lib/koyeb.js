/*Gifted Tech*/































const _0x1698bb=_0x3aed;(function(_0x15ac91,_0x31d435){const _0x35354a=_0x3aed,_0x23c04a=_0x15ac91();while(!![]){try{const _0x2e9b2e=parseInt(_0x35354a(0x14f))/0x1+parseInt(_0x35354a(0x152))/0x2*(parseInt(_0x35354a(0x166))/0x3)+parseInt(_0x35354a(0x14e))/0x4*(-parseInt(_0x35354a(0x146))/0x5)+-parseInt(_0x35354a(0x15c))/0x6+-parseInt(_0x35354a(0x156))/0x7+parseInt(_0x35354a(0x153))/0x8+parseInt(_0x35354a(0x16a))/0x9*(-parseInt(_0x35354a(0x175))/0xa);if(_0x2e9b2e===_0x31d435)break;else _0x23c04a['push'](_0x23c04a['shift']());}catch(_0x1fab95){_0x23c04a['push'](_0x23c04a['shift']());}}}(_0x3423,0xa9578));function _0x3423(){const _0x3a2fd5=['2639799ytdKpe','region:fra','key','join','data','Error\x20fetching\x20environment\x20variable:','deployment','get','/redeploy','status','https://app.koyeb.com/v1/services/','20TWoQEP','Bearer\x20','https://app.koyeb.com/v1/services','application/json;charset=UTF-8','post','includes','find','_Successfully\x20deleted\x20','env','\x20not\x20found','map','filter','951315UVnUrP','Environment\x20variable\x20','Error\x20fetching\x20environment\x20variables:','latest_deployment_id','_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key','split','KOYEB_API','value','4fcJqFT','1327316OlxjZe','prod','https://app.koyeb.com/v1/deployments','95812CergRj','175240KTUfTn','error','services','2035026fOIXnI','definition','patch','ERROR','length','Error\x20changing\x20environment\x20variable:','977196OZKnZC','Error\x20deleting\x20variable:','Successfuly\x20changed\x20var\x20_','\x20var\x20from\x20koyeb._','axios','https://app.koyeb.com/v1/deployments/','Failed\x20to\x20fetch\x20environment\x20variable','some','Failed\x20to\x20fetch\x20environment\x20variables','Error\x20redeploying:','36XkGhfw','*Got\x20an\x20error\x20in\x20redeploying.*\x0a*Please\x20put\x20koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API.*\x0a_Eg:\x20KOYEB_API:api\x20key\x20from\x20https://app.koyeb.com/account/api\x20._','\x20._','ERRPRING'];_0x3423=function(){return _0x3a2fd5;};return _0x3423();}const axios=require(_0x1698bb(0x160)),koyeb_api=process['env'][_0x1698bb(0x14c)],axiosConfig={'headers':{'Content-Type':_0x1698bb(0x178),'Authorization':_0x1698bb(0x176)+koyeb_api}};async function get_deployments(){const _0xdc3835=_0x1698bb;let _0xb58427=![];const _0xf64224={'headers':{'Content-Type':_0xdc3835(0x178),'Authorization':_0xdc3835(0x176)+koyeb_api}};try{const _0x5a4c92=await axios[_0xdc3835(0x171)](_0xdc3835(0x151),_0xf64224),_0x456d89=['STOPPED','STOPPING',_0xdc3835(0x159),_0xdc3835(0x169)],_0x104d5f=_0x5a4c92[_0xdc3835(0x16e)]['deployments']['filter'](_0x2237ad=>!_0x456d89[_0xdc3835(0x13f)](_0x2237ad[_0xdc3835(0x173)]));_0x104d5f[_0xdc3835(0x15a)]>0x1&&(_0xb58427=!![]);}catch(_0x2faca5){console[_0xdc3835(0x154)]('Error\x20fetching\x20deployments:',_0x2faca5);}return _0xb58427;}function checkArray(_0x284f60,_0x5c16a2){const _0x1916f9=_0x1698bb;return _0x284f60[_0x1916f9(0x163)](_0x4e64cb=>_0x4e64cb[_0x1916f9(0x16c)]===_0x5c16a2);}async function delvar(_0x1ce2d3){const _0x201547=_0x1698bb;try{const {data:_0x500d28}=await axios[_0x201547(0x171)](_0x201547(0x177),axiosConfig),_0x3f6659=_0x500d28[_0x201547(0x155)][0x0]['id'],{data:_0x363ce4}=await axios[_0x201547(0x171)](_0x201547(0x161)+_0x500d28['services'][0x0][_0x201547(0x149)],axiosConfig);if(!checkArray(_0x363ce4[_0x201547(0x170)][_0x201547(0x157)][_0x201547(0x142)],_0x1ce2d3))return'_No\x20such\x20env\x20in\x20koyeb._';const _0x254dc3=_0x363ce4[_0x201547(0x170)][_0x201547(0x157)]['env']['filter'](_0x5dca7a=>_0x5dca7a[_0x201547(0x16c)]!==_0x1ce2d3),_0x4ceeea={'definition':{..._0x363ce4[_0x201547(0x170)]['definition'],'env':_0x254dc3}},{status:_0x5cdfb7}=await axios[_0x201547(0x158)](_0x201547(0x174)+_0x3f6659,_0x4ceeea,axiosConfig);return _0x5cdfb7===0xc8?_0x201547(0x141)+_0x1ce2d3+_0x201547(0x15f):_0x201547(0x14a);}catch(_0x4e02f9){return console['error'](_0x201547(0x15d),_0x4e02f9),_0x201547(0x14a);}}async function change_env(_0x10754e){const _0x3e2554=_0x1698bb;try{const [_0x2dea92,_0x667067]=_0x10754e[_0x3e2554(0x14b)](':'),{data:_0x33e01f}=await axios[_0x3e2554(0x171)](_0x3e2554(0x177),axiosConfig),_0x7a51e0=_0x33e01f[_0x3e2554(0x155)][0x0]['id'],{data:_0x149236}=await axios['get'](_0x3e2554(0x161)+_0x33e01f[_0x3e2554(0x155)][0x0][_0x3e2554(0x149)],axiosConfig),_0x4e862c=_0x149236[_0x3e2554(0x170)][_0x3e2554(0x157)][_0x3e2554(0x142)][_0x3e2554(0x144)](_0x4fa0f1=>{const _0x367f09=_0x3e2554;if(_0x4fa0f1[_0x367f09(0x16c)]===_0x2dea92)return{'scopes':[_0x367f09(0x16b)],'key':_0x2dea92,'value':_0x667067};return _0x4fa0f1;});!checkArray(_0x4e862c,_0x2dea92)&&_0x4e862c['push']({'scopes':['region:fra'],'key':_0x2dea92,'value':_0x667067});const _0x5bc188={'definition':{..._0x149236[_0x3e2554(0x170)][_0x3e2554(0x157)],'env':_0x4e862c}},{status:_0xe07d70}=await axios[_0x3e2554(0x158)](_0x3e2554(0x174)+_0x7a51e0,_0x5bc188,axiosConfig);return _0xe07d70===0xc8?_0x3e2554(0x15e)+_0x2dea92+':'+_0x667067+_0x3e2554(0x168):'_Please\x20put\x20Koyeb\x20api\x20key\x20in\x20var\x20KOYEB_API._\x0aEg:\x20KOYEB_API:api\x20key';}catch(_0x147553){return console[_0x3e2554(0x154)](_0x3e2554(0x15b),_0x147553),_0x3e2554(0x14a);}}async function getallvar(){const _0x2c167f=_0x1698bb;try{const {data:_0x3a6016}=await axios['get'](_0x2c167f(0x177),axiosConfig),{data:_0x1949f9}=await axios[_0x2c167f(0x171)](_0x2c167f(0x161)+_0x3a6016[_0x2c167f(0x155)][0x0][_0x2c167f(0x149)],axiosConfig),_0x4c5c06=_0x1949f9['deployment'][_0x2c167f(0x157)]['env'][_0x2c167f(0x145)](_0x19d37b=>_0x19d37b[_0x2c167f(0x16c)])[_0x2c167f(0x144)](_0x3af0cf=>'*'+_0x3af0cf['key']+'*\x20:\x20_'+_0x3af0cf[_0x2c167f(0x14d)]+'_');return _0x4c5c06[_0x2c167f(0x16d)]('\x0a');}catch(_0x1020ae){return console[_0x2c167f(0x154)](_0x2c167f(0x148),_0x1020ae),_0x2c167f(0x164);}}function _0x3aed(_0x2ee1ac,_0x43c495){const _0x3423d9=_0x3423();return _0x3aed=function(_0x3aed38,_0x28c85a){_0x3aed38=_0x3aed38-0x13f;let _0x22eac1=_0x3423d9[_0x3aed38];return _0x22eac1;},_0x3aed(_0x2ee1ac,_0x43c495);}async function getvar(_0x5ed4cf){const _0xc51dca=_0x1698bb;try{const {data:_0x2d12e9}=await axios[_0xc51dca(0x171)]('https://app.koyeb.com/v1/services',axiosConfig),{data:_0x490c77}=await axios['get'](_0xc51dca(0x161)+_0x2d12e9[_0xc51dca(0x155)][0x0][_0xc51dca(0x149)],axiosConfig),_0xddb065=_0x490c77[_0xc51dca(0x170)][_0xc51dca(0x157)][_0xc51dca(0x142)][_0xc51dca(0x140)](_0x3d4a81=>_0x3d4a81[_0xc51dca(0x16c)]===_0x5ed4cf);return _0xddb065?_0xddb065[_0xc51dca(0x16c)]+':'+_0xddb065['value']:_0xc51dca(0x147)+_0x5ed4cf+_0xc51dca(0x143);}catch(_0x2ffcc3){return console[_0xc51dca(0x154)](_0xc51dca(0x16f),_0x2ffcc3),_0xc51dca(0x162);}}async function redeploy(){const _0x37dc38=_0x1698bb,_0x801d11={'deployment_group':_0x37dc38(0x150),'sha':''};try{const {data:_0x1924a0}=await axios[_0x37dc38(0x171)](_0x37dc38(0x177),axiosConfig),_0x46d39e=_0x1924a0[_0x37dc38(0x155)][0x0]['id'];return await axios[_0x37dc38(0x179)]('https://app.koyeb.com/v1/services/'+_0x46d39e+_0x37dc38(0x172),_0x801d11,axiosConfig),'_update\x20started._';}catch(_0x35e7c5){return console['error'](_0x37dc38(0x165),_0x35e7c5),_0x37dc38(0x167);}}module['exports']={'redeploy':redeploy,'getvar':getvar,'delvar':delvar,'getallvar':getallvar,'change_env':change_env,'get_deployments':get_deployments};
